---
title: "Add Two Numbers"
slug: "add-two-numbers"
difficulty: "Medium"
tags: ["linked-list"]
---

## Explanation

The problem involves adding two numbers represented as linked lists. Each node contains a single digit, and the digits are stored in reverse order. The task is to return the sum as a linked list.

We traverse both linked lists simultaneously, adding corresponding digits along with any carry from the previous step. If one list is shorter, we treat its missing digits as `0`. At the end, if there is a carry left, we add it as a new node.

### Key Points:
- Use a dummy node to simplify handling the head of the result list.
- Traverse both lists while managing the carry.
- Ensure the carry is added as a new node if it remains after traversal.

### Time Complexity:
The time complexity of this solution is **O(max(m, n))**, where `m` and `n` are the lengths of the two linked lists. This is because we traverse each list once, and the traversal stops when both lists are fully processed and there is no carry left.

### Space Complexity:
The space complexity is **O(max(m, n))** as well, since the size of the resulting linked list is proportional to the longer of the two input lists, plus one additional node for a carry if needed.

---

```java
public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
    ListNode dummy = new ListNode(0);
    ListNode current = dummy;
    int carry = 0;

    while (l1 != null || l2 != null || carry != 0) {
        int sum = carry;
        if (l1 != null) {
            sum += l1.val;
            l1 = l1.next;
        }
        if (l2 != null) {
            sum += l2.val;
            l2 = l2.next;
        }
        carry = sum / 10;
        current.next = new ListNode(sum % 10);
        current = current.next;
    }

    return dummy.next;
}
```

---

```cpp
struct ListNode {
    int val;
    ListNode* next;
    ListNode(int x) : val(x), next(nullptr) {}
};

ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) {
    ListNode dummy(0);
    ListNode* current = &dummy;
    int carry = 0;

    while (l1 || l2 || carry) {
        int sum = carry;
        if (l1) {
            sum += l1->val;
            l1 = l1->next;
        }
        if (l2) {
            sum += l2->val;
            l2 = l2->next;
        }
        carry = sum / 10;
        current->next = new ListNode(sum % 10);
        current = current->next;
    }

    return dummy.next;
}
```

---

```python
class ListNode:
    def __init__(self, val=0, next=None):
        self.val = val
        self.next = next

def addTwoNumbers(l1: ListNode, l2: ListNode) -> ListNode:
    dummy = ListNode(0)
    current = dummy
    carry = 0

    while l1 or l2 or carry:
        sum = carry
        if l1:
            sum += l1.val
            l1 = l1.next
        if l2:
            sum += l2.val
            l2 = l2.next
        carry = sum // 10
        current.next = ListNode(sum % 10)
        current = current.next

    return dummy.next
```

---
